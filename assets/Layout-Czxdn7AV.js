import{o as he,w as at,a as _e,i as It,c as b,b as ie,d as kt,N as Pe,s as qe,r as S,e as T,f as E,g as K,h as p,u as B,j as F,n as me,k as y,l as ye,m as N,p as v,q as ae,T as De,t as fe,v as wt,x as $,y as St,z as Be,A as Oe,B as Ve,C as Ee,D as Se,F as We,E as je,G as ne,H as ut,I as Tt,J as te,K as U,L as k,M as de,O as Ye,P as $t,Q as ke,R as we,S as it,U as rt,V as Xe,W as Ge}from"./index-BJ5h8cr7.js";import{T as Bt,E as _t}from"./el-button-Deub0Cbu.js";import{E as ct,a as Ot}from"./el-popper-C9LbwScd.js";import{E as At}from"./el-text-Dos6SDwX.js";import{t as pe,g as Nt,C as Pt,E as Lt}from"./el-input-OxPUwKGn.js";import{_ as zt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as Qe,u as O,i as dt,h as He,g as xt,b as Me,r as Te,c as Rt,_ as J,w as Ue,d as re,e as Ae,f as ve,j as Ze,k as Je,l as Vt,m as et}from"./plugin-vue_export-helper-Cd_d_7dB.js";import{P as Le,f as Ht}from"./vnode-Dmyral2g.js";import{E as Ne,c as Ft,i as Ce,a as Dt,b as Wt,m as jt,T as Ut,l as tt,d as nt}from"./index-Cdowt2US.js";import{u as Kt,E as X,a as qt,b as Yt}from"./use-global-config-K9BRxxrC.js";import{i as Xt}from"./validator-BKvVTGv4.js";import{u as ot}from"./index-Bb3OQcAj.js";import{E as Gt}from"./index-MNUNvU54.js";import{E as Qt}from"./index-guausdOw.js";import{m as Zt}from"./typescript-Bp3YSIOJ.js";import"./use-form-common-props-DsLqBHT9.js";import"./constants-Dnj8X3EN.js";import"./index-BGctWzOp.js";import"./event-BB_Ol6Sd.js";const Jt='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',en=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,st=e=>Array.from(e.querySelectorAll(Jt)).filter(t=>tn(t)&&en(t)),tn=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},$e=function(e,t,...o){let n;t.includes("mouse")||t.includes("click")?n="MouseEvents":t.includes("key")?n="KeyboardEvent":n="HTMLEvents";const s=document.createEvent(n);return s.initEvent(t,...o),e.dispatchEvent(s),e},nn=(e,t,o,n)=>{let s={offsetX:0,offsetY:0};const l=a=>{const h=a.clientX,I=a.clientY,{offsetX:g,offsetY:_}=s,G=e.value.getBoundingClientRect(),P=G.left,H=G.top,L=G.width,z=G.height,Q=document.documentElement.clientWidth,oe=document.documentElement.clientHeight,se=-P+g,x=-H+_,R=Q-P-L+g,D=oe-H-z+_,q=W=>{let V=g+W.clientX-h,Y=_+W.clientY-I;n!=null&&n.value||(V=Math.min(Math.max(V,se),R),Y=Math.min(Math.max(Y,x),D)),s={offsetX:V,offsetY:Y},e.value&&(e.value.style.transform=`translate(${Qe(V)}, ${Qe(Y)})`)},Z=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",Z)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",Z)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},f=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)},r=()=>{s={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return he(()=>{at(()=>{o.value?i():f()})}),_e(()=>{f()}),{resetPosition:r}},on=(e,t={})=>{It(e)||pe("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||O("popup"),n=b(()=>o.bm("parent","hidden"));if(!dt||He(document.body,n.value))return;let s=0,l=!1,i="0";const f=()=>{setTimeout(()=>{typeof document>"u"||(Te(document==null?void 0:document.body,n.value),l&&document&&(document.body.style.width=i))},200)};ie(e,r=>{if(!r){f();return}l=!He(document.body,n.value),l&&(i=document.body.style.width),s=Nt(o.namespace.value);const a=document.documentElement.clientHeight<document.body.scrollHeight,h=xt(document.body,"overflowY");s>0&&(a||h==="scroll")&&l&&(document.body.style.width=`calc(100% - ${s}px)`),Me(document.body,n.value)}),kt(()=>f())},ft=e=>{if(!e)return{onClick:Pe,onMousedown:Pe,onMouseup:Pe};let t=!1,o=!1;return{onClick:i=>{t&&o&&e(i),t=o=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{o=i.target===i.currentTarget}}},sn={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ln={click:e=>e instanceof MouseEvent},an=(e,t,o)=>{const n=qe(),s=qe(),l=S(!1),i=()=>{n.value&&(l.value=n.value.scrollTop>=e.visibilityHeight)},f=a=>{var h;(h=n.value)==null||h.scrollTo({top:0,behavior:"smooth"}),t("click",a)},r=Rt(i,300,!0);return Kt(s,"scroll",r),he(()=>{var a;s.value=document,n.value=document.documentElement,e.target&&(n.value=(a=document.querySelector(e.target))!=null?a:void 0,n.value||pe(o,`target does not exist: ${e.target}`),s.value=n.value),i()}),{visible:l,handleClick:f}},mt="ElBacktop",un=T({name:mt}),rn=T({...un,props:sn,emits:ln,setup(e,{emit:t}){const o=e,n=O("backtop"),{handleClick:s,visible:l}=an(o,t,mt),i=b(()=>({right:`${o.right}px`,bottom:`${o.bottom}px`}));return(f,r)=>(E(),K(De,{name:`${B(n).namespace.value}-fade-in`},{default:p(()=>[B(l)?(E(),F("div",{key:0,style:me(B(i)),class:y(B(n).b()),onClick:ye(B(s),["stop"])},[N(f.$slots,"default",{},()=>[v(B(Ne),{class:y(B(n).e("icon"))},{default:p(()=>[v(B(Ft))]),_:1},8,["class"])])],14,["onClick"])):ae("v-if",!0)]),_:3},8,["name"]))}});var cn=J(rn,[["__file","backtop.vue"]]);const dn=Ue(cn),Fe="_trap-focus-children",ue=[],lt=e=>{if(ue.length===0)return;const t=ue[ue.length-1][Fe];if(t.length>0&&e.code===X.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const o=e.shiftKey,n=e.target===t[0],s=e.target===t[t.length-1];n&&o&&(e.preventDefault(),t[t.length-1].focus()),s&&!o&&(e.preventDefault(),t[0].focus())}},fn={beforeMount(e){e[Fe]=st(e),ue.push(e),ue.length<=1&&document.addEventListener("keydown",lt)},updated(e){fe(()=>{e[Fe]=st(e)})},unmounted(){ue.shift(),ue.length===0&&document.removeEventListener("keydown",lt)}},mn=T({name:"ElContainer"}),pn=T({...mn,props:{direction:{type:String}},setup(e){const t=e,o=wt(),n=O("container"),s=b(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:o&&o.default?o.default().some(i=>{const f=i.type.name;return f==="ElHeader"||f==="ElFooter"}):!1);return(l,i)=>(E(),F("section",{class:y([B(n).b(),B(n).is("vertical",B(s))])},[N(l.$slots,"default")],2))}});var vn=J(pn,[["__file","container.vue"]]);const hn=T({name:"ElAside"}),bn=T({...hn,props:{width:{type:String,default:null}},setup(e){const t=e,o=O("aside"),n=b(()=>t.width?o.cssVarBlock({width:t.width}):{});return(s,l)=>(E(),F("aside",{class:y(B(o).b()),style:me(B(n))},[N(s.$slots,"default")],6))}});var pt=J(bn,[["__file","aside.vue"]]);const gn=T({name:"ElFooter"}),yn=T({...gn,props:{height:{type:String,default:null}},setup(e){const t=e,o=O("footer"),n=b(()=>t.height?o.cssVarBlock({height:t.height}):{});return(s,l)=>(E(),F("footer",{class:y(B(o).b()),style:me(B(n))},[N(s.$slots,"default")],6))}});var vt=J(yn,[["__file","footer.vue"]]);const Mn=T({name:"ElHeader"}),Cn=T({...Mn,props:{height:{type:String,default:null}},setup(e){const t=e,o=O("header"),n=b(()=>t.height?o.cssVarBlock({height:t.height}):{});return(s,l)=>(E(),F("header",{class:y(B(o).b()),style:me(B(n))},[N(s.$slots,"default")],6))}});var ht=J(Cn,[["__file","header.vue"]]);const En=T({name:"ElMain"}),In=T({...En,setup(e){const t=O("main");return(o,n)=>(E(),F("main",{class:y(B(t).b())},[N(o.$slots,"default")],2))}});var bt=J(In,[["__file","main.vue"]]);const kn=Ue(vn,{Aside:pt,Footer:vt,Header:ht,Main:bt});re(pt);const wn=re(vt),Sn=re(ht),Tn=re(bt),$n=Ae({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ve([String,Array,Object])},zIndex:{type:ve([String,Number])}}),Bn={click:e=>e instanceof MouseEvent},_n="overlay";var On=T({name:"ElOverlay",props:$n,emits:Bn,setup(e,{slots:t,emit:o}){const n=O(_n),s=r=>{o("click",r)},{onClick:l,onMousedown:i,onMouseup:f}=ft(e.customMaskEvent?void 0:s);return()=>e.mask?v("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:i,onMouseup:f},[N(t,"default")],Le.STYLE|Le.CLASS|Le.PROPS,["onClick","onMouseup","onMousedown"]):$("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[N(t,"default")])}});const An=On;let Nn=class{constructor(t,o){this.parent=t,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",n=>{let s=!1;switch(n.code){case X.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case X.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case X.tab:{$e(t,"mouseleave");break}case X.enter:case X.space:{s=!0,n.currentTarget.click();break}}return s&&(n.preventDefault(),n.stopPropagation()),!1})})}},Pn=class{constructor(t,o){this.domNode=t,this.submenu=null,this.submenu=null,this.init(o)}init(t){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${t}-menu`);o&&(this.submenu=new Nn(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let o=!1;switch(t.code){case X.down:{$e(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case X.up:{$e(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case X.tab:{$e(t.currentTarget,"mouseleave");break}case X.enter:case X.space:{o=!0,t.currentTarget.click();break}}o&&t.preventDefault()})}},Ln=class{constructor(t,o){this.domNode=t,this.init(o)}init(t){const o=this.domNode.childNodes;Array.from(o).forEach(n=>{n.nodeType===1&&new Pn(n,t)})}};const zn=T({name:"ElMenuCollapseTransition",setup(){const e=O("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,n){Me(o,`${e.namespace.value}-opacity-transition`),o.style.opacity="1",n()},onAfterEnter(o){Te(o,`${e.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),He(o,e.m("collapse"))?(Te(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Me(o,e.m("collapse"))):(Me(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Te(o,e.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){Me(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function xn(e,t,o,n,s,l){return E(),K(De,St({mode:"out-in"},e.listeners),{default:p(()=>[N(e.$slots,"default")]),_:3},16)}var Rn=J(zn,[["render",xn],["__file","menu-collapse-transition.vue"]]);function gt(e,t){const o=b(()=>{let s=e.parent;const l=[t.value];for(;s.type.name!=="ElMenu";)s.props.index&&l.unshift(s.props.index),s=s.parent;return l});return{parentMenu:b(()=>{let s=e.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:o}}function Vn(e){return b(()=>{const o=e.backgroundColor;return o?new Bt(o).shade(20).toString():""})}const yt=(e,t)=>{const o=O("menu");return b(()=>o.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Vn(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Hn=Ae({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ce},expandOpenIcon:{type:Ce},collapseCloseIcon:{type:Ce},collapseOpenIcon:{type:Ce}}),ze="ElSubMenu";var Ke=T({name:ze,props:Hn,setup(e,{slots:t,expose:o}){const n=je(),{indexPath:s,parentMenu:l}=gt(n,b(()=>e.index)),i=O("menu"),f=O("sub-menu"),r=Be("rootMenu");r||pe(ze,"can not inject root menu");const a=Be(`subMenu:${l.value.uid}`);a||pe(ze,"can not inject sub menu");const h=S({}),I=S({});let g;const _=S(!1),G=S(),P=S(null),H=b(()=>D.value==="horizontal"&&z.value?"bottom-start":"right-start"),L=b(()=>D.value==="horizontal"&&z.value||D.value==="vertical"&&!r.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?x.value?e.expandOpenIcon:e.expandCloseIcon:Dt:e.collapseCloseIcon&&e.collapseOpenIcon?x.value?e.collapseOpenIcon:e.collapseCloseIcon:Wt),z=b(()=>a.level===0),Q=b(()=>{const m=e.teleported;return m===void 0?z.value:m}),oe=b(()=>r.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),se=b(()=>D.value==="horizontal"&&z.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=b(()=>r.openedMenus.includes(e.index)),R=b(()=>{let m=!1;return Object.values(h.value).forEach(C=>{C.active&&(m=!0)}),Object.values(I.value).forEach(C=>{C.active&&(m=!0)}),m}),D=b(()=>r.props.mode),q=Oe({index:e.index,indexPath:s,active:R}),Z=yt(r.props,a.level+1),W=b(()=>{var m;return(m=e.popperOffset)!=null?m:r.props.popperOffset}),V=b(()=>{var m;return(m=e.popperClass)!=null?m:r.props.popperClass}),Y=b(()=>{var m;return(m=e.showTimeout)!=null?m:r.props.showTimeout}),ce=b(()=>{var m;return(m=e.hideTimeout)!=null?m:r.props.hideTimeout}),c=()=>{var m,C,A;return(A=(C=(m=P.value)==null?void 0:m.popperRef)==null?void 0:C.popperInstanceRef)==null?void 0:A.destroy()},u=m=>{m||c()},d=()=>{r.props.menuTrigger==="hover"&&r.props.mode==="horizontal"||r.props.collapse&&r.props.mode==="vertical"||e.disabled||r.handleSubMenuClick({index:e.index,indexPath:s.value,active:R.value})},M=(m,C=Y.value)=>{var A;if(m.type!=="focus"){if(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||e.disabled){a.mouseInChild.value=!0;return}a.mouseInChild.value=!0,g==null||g(),{stop:g}=Ze(()=>{r.openMenu(e.index,s.value)},C),Q.value&&((A=l.value.vnode.el)==null||A.dispatchEvent(new MouseEvent("mouseenter")))}},w=(m=!1)=>{var C;if(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"){a.mouseInChild.value=!1;return}g==null||g(),a.mouseInChild.value=!1,{stop:g}=Ze(()=>!_.value&&r.closeMenu(e.index,s.value),ce.value),Q.value&&m&&((C=a.handleMouseleave)==null||C.call(a,!0))};ie(()=>r.props.collapse,m=>u(!!m));{const m=A=>{I.value[A.index]=A},C=A=>{delete I.value[A.index]};Ve(`subMenu:${n.uid}`,{addSubMenu:m,removeSubMenu:C,handleMouseleave:w,mouseInChild:_,level:a.level+1})}return o({opened:x}),he(()=>{r.addSubMenu(q),a.addSubMenu(q)}),_e(()=>{a.removeSubMenu(q),r.removeSubMenu(q)}),()=>{var m;const C=[(m=t.title)==null?void 0:m.call(t),$(Ne,{class:f.e("icon-arrow"),style:{transform:x.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&r.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ne(L.value)?$(n.appContext.components[L.value]):$(L.value)})],A=r.isMenuPopup?$(ct,{ref:P,visible:x.value,effect:"light",pure:!0,offset:W.value,showArrow:!1,persistent:!0,popperClass:V.value,placement:H.value,teleported:Q.value,fallbackPlacements:se.value,transition:oe.value,gpuAcceleration:!1},{content:()=>{var j;return $("div",{class:[i.m(D.value),i.m("popup-container"),V.value],onMouseenter:le=>M(le,100),onMouseleave:()=>w(!0),onFocus:le=>M(le,100)},[$("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${H.value}`)],style:Z.value},[(j=t.default)==null?void 0:j.call(t)])])},default:()=>$("div",{class:f.e("title"),onClick:d},C)}):$(We,{},[$("div",{class:f.e("title"),ref:G,onClick:d},C),$(Qt,{},{default:()=>{var j;return Ee($("ul",{role:"menu",class:[i.b(),i.m("inline")],style:Z.value},[(j=t.default)==null?void 0:j.call(t)]),[[Se,x.value]])}})]);return $("li",{class:[f.b(),f.is("active",R.value),f.is("opened",x.value),f.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:M,onMouseleave:()=>w(),onFocus:M},[A])}}});const Fn=Ae({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ve(Array),default:()=>Zt([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ce,default:()=>jt},popperEffect:{type:ve(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),xe=e=>Array.isArray(e)&&e.every(t=>ne(t)),Dn={close:(e,t)=>ne(e)&&xe(t),open:(e,t)=>ne(e)&&xe(t),select:(e,t,o,n)=>ne(e)&&xe(t)&&ut(o)&&(n===void 0||n instanceof Promise)};var Wn=T({name:"ElMenu",props:Fn,emits:Dn,setup(e,{emit:t,slots:o,expose:n}){const s=je(),l=s.appContext.config.globalProperties.$router,i=S(),f=O("menu"),r=O("sub-menu"),a=S(-1),h=S(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),I=S(e.defaultActive),g=S({}),_=S({}),G=b(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),P=()=>{const c=I.value&&g.value[I.value];if(!c||e.mode==="horizontal"||e.collapse)return;c.indexPath.forEach(d=>{const M=_.value[d];M&&H(d,M.indexPath)})},H=(c,u)=>{h.value.includes(c)||(e.uniqueOpened&&(h.value=h.value.filter(d=>u.includes(d))),h.value.push(c),t("open",c,u))},L=c=>{const u=h.value.indexOf(c);u!==-1&&h.value.splice(u,1)},z=(c,u)=>{L(c),t("close",c,u)},Q=({index:c,indexPath:u})=>{h.value.includes(c)?z(c,u):H(c,u)},oe=c=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:u,indexPath:d}=c;if(!(Je(u)||Je(d)))if(e.router&&l){const M=c.route||u,w=l.push(M).then(m=>(m||(I.value=u),m));t("select",u,d,{index:u,indexPath:d,route:M},w)}else I.value=u,t("select",u,d,{index:u,indexPath:d})},se=c=>{const u=g.value,d=u[c]||I.value&&u[I.value]||u[e.defaultActive];d?I.value=d.index:I.value=c},x=c=>{const u=getComputedStyle(c),d=Number.parseInt(u.marginLeft,10),M=Number.parseInt(u.marginRight,10);return c.offsetWidth+d+M||0},R=()=>{var c,u;if(!i.value)return-1;const d=Array.from((u=(c=i.value)==null?void 0:c.childNodes)!=null?u:[]).filter(ge=>ge.nodeName!=="#comment"&&(ge.nodeName!=="#text"||ge.nodeValue)),M=64,w=getComputedStyle(i.value),m=Number.parseInt(w.paddingLeft,10),C=Number.parseInt(w.paddingRight,10),A=i.value.clientWidth-m-C;let j=0,le=0;return d.forEach((ge,Et)=>{j+=x(ge),j<=A-M&&(le=Et+1)}),le===d.length?-1:le},D=c=>_.value[c].indexPath,q=(c,u=33.34)=>{let d;return()=>{d&&clearTimeout(d),d=setTimeout(()=>{c()},u)}};let Z=!0;const W=()=>{if(a.value===R())return;const c=()=>{a.value=-1,fe(()=>{a.value=R()})};Z?c():q(c)(),Z=!1};ie(()=>e.defaultActive,c=>{g.value[c]||(I.value=""),se(c)}),ie(()=>e.collapse,c=>{c&&(h.value=[])}),ie(g.value,P);let V;at(()=>{e.mode==="horizontal"&&e.ellipsis?V=qt(i,W).stop:V==null||V()});const Y=S(!1);{const c=w=>{_.value[w.index]=w},u=w=>{delete _.value[w.index]};Ve("rootMenu",Oe({props:e,openedMenus:h,items:g,subMenus:_,activeIndex:I,isMenuPopup:G,addMenuItem:w=>{g.value[w.index]=w},removeMenuItem:w=>{delete g.value[w.index]},addSubMenu:c,removeSubMenu:u,openMenu:H,closeMenu:z,handleMenuItemClick:oe,handleSubMenuClick:Q})),Ve(`subMenu:${s.uid}`,{addSubMenu:c,removeSubMenu:u,mouseInChild:Y,level:0})}he(()=>{e.mode==="horizontal"&&new Ln(s.vnode.el,f.namespace.value)}),n({open:u=>{const{indexPath:d}=_.value[u];d.forEach(M=>H(M,d))},close:L,handleResize:W});const ce=yt(e,0);return()=>{var c,u;let d=(u=(c=o.default)==null?void 0:c.call(o))!=null?u:[];const M=[];if(e.mode==="horizontal"&&i.value){const C=Ht(d),A=a.value===-1?C:C.slice(0,a.value),j=a.value===-1?[]:C.slice(a.value);j!=null&&j.length&&e.ellipsis&&(d=A,M.push($(Ke,{index:"sub-menu-more",class:r.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>$(Ne,{class:r.e("icon-more")},{default:()=>$(e.ellipsisIcon)}),default:()=>j})))}const w=e.closeOnClickOutside?[[Pt,()=>{h.value.length&&(Y.value||(h.value.forEach(C=>t("close",C,D(C))),h.value=[]))}]]:[],m=Ee($("ul",{key:String(e.collapse),role:"menubar",ref:i,style:ce.value,class:{[f.b()]:!0,[f.m(e.mode)]:!0,[f.m("collapse")]:e.collapse}},[...d,...M]),w);return e.collapseTransition&&e.mode==="vertical"?$(Rn,()=>m):m}}});const jn=Ae({index:{type:ve([String,null]),default:null},route:{type:ve([String,Object])},disabled:Boolean}),Un={click:e=>ne(e.index)&&Array.isArray(e.indexPath)},Re="ElMenuItem",Kn=T({name:Re,components:{ElTooltip:ct},props:jn,emits:Un,setup(e,{emit:t}){const o=je(),n=Be("rootMenu"),s=O("menu"),l=O("menu-item");n||pe(Re,"can not inject root menu");const{parentMenu:i,indexPath:f}=gt(o,Tt(e,"index")),r=Be(`subMenu:${i.value.uid}`);r||pe(Re,"can not inject sub menu");const a=b(()=>e.index===n.activeIndex),h=Oe({index:e.index,indexPath:f,active:a}),I=()=>{e.disabled||(n.handleMenuItemClick({index:e.index,indexPath:f.value,route:e.route}),t("click",h))};return he(()=>{r.addSubMenu(h),n.addMenuItem(h)}),_e(()=>{r.removeSubMenu(h),n.removeMenuItem(h)}),{parentMenu:i,rootMenu:n,active:a,nsMenu:s,nsMenuItem:l,handleClick:I}}});function qn(e,t,o,n,s,l){const i=te("el-tooltip");return E(),F("li",{class:y([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(E(),K(i,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:p(()=>[N(e.$slots,"title")]),default:p(()=>[U("div",{class:y(e.nsMenu.be("tooltip","trigger"))},[N(e.$slots,"default")],2)]),_:3},8,["effect"])):(E(),F(We,{key:1},[N(e.$slots,"default"),N(e.$slots,"title")],64))],10,["onClick"])}var Mt=J(Kn,[["render",qn],["__file","menu-item.vue"]]);const Yn={title:String},Xn="ElMenuItemGroup",Gn=T({name:Xn,props:Yn,setup(){return{ns:O("menu-item-group")}}});function Qn(e,t,o,n,s,l){return E(),F("li",{class:y(e.ns.b())},[U("div",{class:y(e.ns.e("title"))},[e.$slots.title?N(e.$slots,"title",{key:1}):(E(),F(We,{key:0},[k(de(e.title),1)],64))],2),U("ul",null,[N(e.$slots,"default")])],2)}var Ct=J(Gn,[["render",Qn],["__file","menu-item-group.vue"]]);const Zn=Ue(Wn,{MenuItem:Mt,MenuItemGroup:Ct,SubMenu:Ke}),Jn=re(Mt);re(Ct);const eo=re(Ke),to=T({name:"ElMessageBox",directives:{TrapFocus:fn},components:{ElButton:_t,ElFocusTrap:Ot,ElInput:Lt,ElOverlay:An,ElIcon:Ne,...Ut},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Xt},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:o,zIndex:n,ns:s,size:l}=Yt("message-box",b(()=>e.buttonSize)),{t:i}=o,{nextZIndex:f}=n,r=S(!1),a=Oe({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Ye(tt),cancelButtonLoadingIcon:Ye(tt),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:f()}),h=b(()=>{const u=a.type;return{[s.bm("icon",u)]:u&&nt[u]}}),I=ot(),g=ot(),_=b(()=>a.icon||nt[a.type]||""),G=b(()=>!!a.message),P=S(),H=S(),L=S(),z=S(),Q=S(),oe=b(()=>a.confirmButtonClass);ie(()=>a.inputValue,async u=>{await fe(),e.boxType==="prompt"&&u!==null&&V()},{immediate:!0}),ie(()=>r.value,u=>{var d,M;u&&(e.boxType!=="prompt"&&(a.autofocus?L.value=(M=(d=Q.value)==null?void 0:d.$el)!=null?M:P.value:L.value=P.value),a.zIndex=f()),e.boxType==="prompt"&&(u?fe().then(()=>{var w;z.value&&z.value.$el&&(a.autofocus?L.value=(w=Y())!=null?w:P.value:L.value=P.value)}):(a.editorErrorMessage="",a.validateError=!1))});const se=b(()=>e.draggable),x=b(()=>e.overflow);nn(P,H,se,x),he(async()=>{await fe(),e.closeOnHashChange&&window.addEventListener("hashchange",R)}),_e(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",R)});function R(){r.value&&(r.value=!1,fe(()=>{a.action&&t("action",a.action)}))}const D=()=>{e.closeOnClickModal&&W(a.distinguishCancelAndClose?"close":"cancel")},q=ft(D),Z=u=>{if(a.inputType!=="textarea")return u.preventDefault(),W("confirm")},W=u=>{var d;e.boxType==="prompt"&&u==="confirm"&&!V()||(a.action=u,a.beforeClose?(d=a.beforeClose)==null||d.call(a,u,a,R):R())},V=()=>{if(e.boxType==="prompt"){const u=a.inputPattern;if(u&&!u.test(a.inputValue||""))return a.editorErrorMessage=a.inputErrorMessage||i("el.messagebox.error"),a.validateError=!0,!1;const d=a.inputValidator;if(typeof d=="function"){const M=d(a.inputValue);if(M===!1)return a.editorErrorMessage=a.inputErrorMessage||i("el.messagebox.error"),a.validateError=!0,!1;if(typeof M=="string")return a.editorErrorMessage=M,a.validateError=!0,!1}}return a.editorErrorMessage="",a.validateError=!1,!0},Y=()=>{const u=z.value.$refs;return u.input||u.textarea},ce=()=>{W("close")},c=()=>{e.closeOnPressEscape&&ce()};return e.lockScroll&&on(r),{...$t(a),ns:s,overlayEvent:q,visible:r,hasMessage:G,typeClass:h,contentId:I,inputId:g,btnSize:l,iconComponent:_,confirmButtonClasses:oe,rootRef:P,focusStartRef:L,headerRef:H,inputRef:z,confirmRef:Q,doClose:R,handleClose:ce,onCloseRequested:c,handleWrapperClick:D,handleInputEnter:Z,handleAction:W,t:i}}});function no(e,t,o,n,s,l){const i=te("el-icon"),f=te("close"),r=te("el-input"),a=te("el-button"),h=te("el-focus-trap"),I=te("el-overlay");return E(),K(De,{name:"fade-in-linear",onAfterLeave:g=>e.$emit("vanish"),persisted:""},{default:p(()=>[Ee(v(I,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:p(()=>[U("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:y(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[v(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:p(()=>[U("div",{ref:"rootRef",class:y([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:me(e.customStyle),tabindex:"-1",onClick:ye(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(E(),F("div",{key:0,ref:"headerRef",class:y([e.ns.e("header"),{"show-close":e.showClose}])},[U("div",{class:y(e.ns.e("title"))},[e.iconComponent&&e.center?(E(),K(i,{key:0,class:y([e.ns.e("status"),e.typeClass])},{default:p(()=>[(E(),K(ke(e.iconComponent)))]),_:1},8,["class"])):ae("v-if",!0),U("span",null,de(e.title),1)],2),e.showClose?(E(),F("button",{key:0,type:"button",class:y(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:we(ye(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[v(i,{class:y(e.ns.e("close"))},{default:p(()=>[v(f)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):ae("v-if",!0)],2)):ae("v-if",!0),U("div",{id:e.contentId,class:y(e.ns.e("content"))},[U("div",{class:y(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(E(),K(i,{key:0,class:y([e.ns.e("status"),e.typeClass])},{default:p(()=>[(E(),K(ke(e.iconComponent)))]),_:1},8,["class"])):ae("v-if",!0),e.hasMessage?(E(),F("div",{key:1,class:y(e.ns.e("message"))},[N(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(E(),K(ke(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(E(),K(ke(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:p(()=>[k(de(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):ae("v-if",!0)],2),Ee(U("div",{class:y(e.ns.e("input"))},[v(r,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":g=>e.inputValue=g,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:y({invalid:e.validateError}),onKeydown:we(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),U("div",{class:y(e.ns.e("errormsg")),style:me({visibility:e.editorErrorMessage?"visible":"hidden"})},de(e.editorErrorMessage),7)],2),[[Se,e.showInput]])],10,["id"]),U("div",{class:y(e.ns.e("btns"))},[e.showCancelButton?(E(),K(a,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:y([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:g=>e.handleAction("cancel"),onKeydown:we(ye(g=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:p(()=>[k(de(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):ae("v-if",!0),Ee(v(a,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:y([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:g=>e.handleAction("confirm"),onKeydown:we(ye(g=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:p(()=>[k(de(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Se,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Se,e.visible]])]),_:3},8,["onAfterLeave"])}var oo=J(to,[["render",no],["__file","index.vue"]]);const Ie=new Map,so=e=>{let t=document.body;return e.appendTo&&(ne(e.appendTo)&&(t=document.querySelector(e.appendTo)),et(e.appendTo)&&(t=e.appendTo),et(t)||(t=document.body)),t},lo=(e,t,o=null)=>{const n=v(oo,e,Ge(e.message)||it(e.message)?{default:Ge(e.message)?e.message:()=>e.message}:null);return n.appContext=o,rt(n,t),so(e).appendChild(t.firstElementChild),n.component},ao=()=>document.createElement("div"),uo=(e,t)=>{const o=ao();e.onVanish=()=>{rt(null,o),Ie.delete(s)},e.onAction=l=>{const i=Ie.get(s);let f;e.showInput?f={value:s.inputValue,action:l}:f=l,e.callback?e.callback(f,n.proxy):l==="cancel"||l==="close"?e.distinguishCancelAndClose&&l!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(f)};const n=lo(e,o,t),s=n.proxy;for(const l in e)Xe(e,l)&&!Xe(s.$props,l)&&(s[l]=e[l]);return s.visible=!0,s};function be(e,t=null){if(!dt)return Promise.reject();let o;return ne(e)||it(e)?e={message:e}:o=e.callback,new Promise((n,s)=>{const l=uo(e,t??be._context);Ie.set(l,{options:e,callback:o,resolve:n,reject:s})})}const io=["alert","confirm","prompt"],ro={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};io.forEach(e=>{be[e]=co(e)});function co(e){return(t,o,n,s)=>{let l="";return ut(o)?(n=o,l=""):Vt(o)?l="":l=o,be(Object.assign({title:l,message:t,type:"",...ro[e]},n,{boxType:e}),s)}}be.close=()=>{Ie.forEach((e,t)=>{t.doClose()}),Ie.clear()};be._context=null;const ee=be;ee.install=e=>{ee._context=e._context,e.config.globalProperties.$msgbox=ee,e.config.globalProperties.$messageBox=ee,e.config.globalProperties.$alert=ee.alert,e.config.globalProperties.$confirm=ee.confirm,e.config.globalProperties.$prompt=ee.prompt};const fo=ee,mo={__name:"Layout",setup(e){const t=()=>{fo.confirm("将跳转至我的bangumi主页","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{window.location.href="https://bangumi.tv/user/565276"}).catch(()=>{Gt({showClose:!0,type:"info",message:"已取消跳转"})})};return(o,n)=>{const s=At,l=Jn,i=eo,f=Zn,r=Sn,a=te("router-view"),h=Tn,I=wn,g=dn,_=kn;return E(),K(_,null,{default:p(()=>[v(r,null,{default:p(()=>[v(f,{"default-active":o.$route.path,mode:"horizontal",ellipsis:!1,router:""},{default:p(()=>[v(l,{index:"/home"},{default:p(()=>[v(s,{type:"primary",size:"large"},{default:p(()=>n[0]||(n[0]=[k("AchaStory")])),_:1})]),_:1}),v(i,{index:"/posts"},{title:p(()=>n[1]||(n[1]=[k("NGA帖子")])),default:p(()=>[v(l,{index:"/posts/38447162"},{default:p(()=>n[2]||(n[2]=[k("茶楼(主贴)")])),_:1}),v(l,{index:"/posts/38466050"},{default:p(()=>n[3]||(n[3]=[k("直播直播楼")])),_:1}),v(l,{index:"/posts/38498128"},{default:p(()=>n[4]||(n[4]=[k("直播索引楼")])),_:1}),v(l,{index:"/posts/38725142"},{default:p(()=>n[5]||(n[5]=[k("青楼")])),_:1}),v(l,{index:"/posts/other",disabled:""},{default:p(()=>n[6]||(n[6]=[k("其他")])),_:1}),v(l,{index:"/posts/edit",disabled:""},{default:p(()=>n[7]||(n[7]=[k("已编辑")])),_:1}),v(l,{index:"/posts/letter"},{default:p(()=>n[8]||(n[8]=[k("私信")])),_:1}),v(l,{index:"/posts/recreation"},{default:p(()=>n[9]||(n[9]=[k("同人四创")])),_:1})]),_:1}),v(i,{index:"/chat"},{title:p(()=>n[10]||(n[10]=[k("QQ群聊")])),default:p(()=>[v(l,{disabled:""},{default:p(()=>n[11]||(n[11]=[k("夏纪rp")])),_:1}),v(l,{disabled:""},{default:p(()=>n[12]||(n[12]=[k("夏蕾与彩虹石")])),_:1}),v(l,{index:"/chat/friends"},{default:p(()=>n[13]||(n[13]=[k("群友贴贴")])),_:1})]),_:1}),v(l,{index:"/events"},{default:p(()=>n[14]||(n[14]=[k("Acha大事记")])),_:1}),v(l,{index:"/resources"},{default:p(()=>n[15]||(n[15]=[k("资源下载")])),_:1}),v(l,{index:"/about"},{default:p(()=>n[16]||(n[16]=[k("关于")])),_:1}),v(l,{index:"/books"},{default:p(()=>n[17]||(n[17]=[k("个人书单")])),_:1}),v(l,{index:"",onClick:t},{default:p(()=>n[18]||(n[18]=[k("个人番组")])),_:1})]),_:1},8,["default-active"])]),_:1}),v(h,null,{default:p(()=>[v(a)]),_:1}),v(I,null,{default:p(()=>n[19]||(n[19]=[k("AchaStory ©2024 Created by 枞枞那年")])),_:1}),v(g)]),_:1})}}},zo=zt(mo,[["__scopeId","data-v-be69f5f3"]]);export{zo as default};
