import{m as f,o as F,L as x,q as N,r as C,s as D,D as I,F as T,u as U,M as Y,N as z,w as L}from"./element-plus-DG-KFbsU.js";import{z as M}from"./@element-plus-Biv1i3Lr.js";import{e as O}from"./index-DJ0_G3px.js";import{_ as R}from"./plugin-vueexport-helper-DlAUqK2U.js";import{r as v,f as S,s as q,c as p,O as e,Q as a,o as c,u as P,U as b,F as Q,a7 as W,R as j,V as A,W as G}from"./@vue-BP6QxIZ4.js";import"./lodash-es-BB-zMWwC.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BRAxSmoj.js";import"./dayjs-DuEr9S7h.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./axios-CCb-kr4I.js";const H={class:"main"},J={key:0},K={__name:"Books",setup(X){const d=v(null);S(async()=>{const o=await O();d.value=o.data});const t=v({search:"",time:"",rate:""}),g=q(()=>{if(d.value===null)return[];let o=d.value;const{search:l,time:i,rate:s}=t.value;return l!=""&&l!=null&&(o=o.filter(r=>r.name.includes(l)||r.author.includes(l)||r.tag.includes(l))),i!=""&&i!=null&&(o=o.filter(r=>r.time==i)),s!=""&&s!=null&&(o=o.filter(r=>r.rate==s)),o}),k=()=>{t.value.search="",t.value.time="",t.value.rate=""};return f({title:"消息",message:"优书网无了，个人记录下看过的小说和评价",type:"info",offset:80}),f({title:"提示",message:"国产网文与日本轻小说以及各个分类的评价标准并不完全相同",type:"warning",offset:200,duration:9e3}),(o,l)=>{const i=N,s=C,r=D,u=I,E=T,V=U,y=F,m=Y,B=z,h=L,w=x;return c(),p("div",H,[e(y,{inline:!0,model:t.value},{default:a(()=>[e(s,null,{default:a(()=>[e(i,{placeholder:"书名/作者/标签",modelValue:t.value.search,"onUpdate:modelValue":l[0]||(l[0]=n=>t.value.search=n),clearable:""},null,8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(r,{modelValue:t.value.time,"onUpdate:modelValue":l[1]||(l[1]=n=>t.value.time=n),type:"year",placeholder:"写作年份","value-format":"YYYY"},null,8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(E,{modelValue:t.value.rate,"onUpdate:modelValue":l[2]||(l[2]=n=>t.value.rate=n),placeholder:"个人评价",clearable:""},{default:a(()=>[e(u,{label:"10",value:"10"}),e(u,{label:"9",value:"9"}),e(u,{label:"8",value:"8"}),e(u,{label:"7",value:"7"}),e(u,{label:"6",value:"6"}),e(u,{label:"5",value:"5"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(V,{type:"primary",icon:P(M),onClick:k},{default:a(()=>l[3]||(l[3]=[b(" 重置 ")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),e(w,{data:g.value,stripe:"","default-sort":{prop:"time",order:"descending"}},{default:a(()=>[e(m,{prop:"name",label:"书名",align:"center"}),e(m,{prop:"author",label:"作者",align:"center"}),e(m,{prop:"time",label:"写作年份",sortable:"",align:"center"}),e(m,{prop:"rate",label:"个人评价",sortable:"",align:"center"},{default:a(n=>[e(B,{"model-value":n.row.rate/2,disabled:""},null,8,["model-value"])]),_:1}),e(m,{label:"标签",align:"center"},{default:a(n=>[n.row.tag!==""?(c(),p("div",J,[(c(!0),p(Q,null,W(n.row.tag.split("/"),_=>(c(),j(h,{key:_,size:"large"},{default:a(()=>[b(A(_),1)]),_:2},1024))),128))])):G("",!0)]),_:1})]),_:1},8,["data"])])}}},ce=R(K,[["__scopeId","data-v-fe5a1882"]]);export{ce as default};
